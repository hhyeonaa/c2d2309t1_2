<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team.mappers.adminMapper">
	
<!-- 	===== 현아 시작 ===== -->

	<insert id="adminInsert">
		insert into ADMIN
			(AD_NO
			, AD_ID 
			, AD_PW
			, AD_NAME
			, AD_DATE
			, AD_ACTIVE)
		values (CONCAT("AD", IFNULL((SELECT MAX(CAST(replace(AD_NO, "AD", "") AS unsigned))+1
									 FROM ADMIN A), 1))
			, #{AD_ID}
			, #{AD_PW}
			, #{AD_NAME}
			, DATE_FORMAT(SYSDATE(), '%Y%m%d%H%i%s')
			, '1')
	</insert>
	
	<select id="getAdminList" resultType="map">
		select
			replace(AD_NO, "AD", "") "AD_NO"
			, AD_ID 
			, AD_NAME
			, AD_ACTIVE
		from ADMIN
	</select>
	
	<select id="idCheck" resultType="String">
		select
			AD_ID 
		from ADMIN
		where AD_ID = #{AD_ID}
	</select>
	
	<delete id="adminDelete">
		delete from ADMIN
		where AD_NO = #{AD_NO}
	</delete>

<!-- 	===== 현아 끝 ===== -->



<!-- 	===== 무창 시작 ===== -->

	

<!-- 	===== 무창 끝 ===== -->



<!-- 	===== 성엽 시작 ===== -->



<!-- 	===== 성엽 끝 ===== -->
	
	
	<update id="adminUpdate">
		update ADMIN
		set AD_ACTIVE = #{AD_ACTIVE}
		where AD_NO = #{AD_NO}
	</update>
	
</mapper>